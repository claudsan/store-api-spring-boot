2022-11-09 23:30:00,214 INFO org.springframework.boot.StartupInfoLogger [main] Starting StoreApplication using Java 11.0.15 on DEV01 with PID 24524 (D:\curso-prometheus\store\target\classes started by claud in D:\curso-prometheus\store)
2022-11-09 23:30:00,214 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.4, Spring v5.3.23
2022-11-09 23:30:00,221 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-09 23:30:01,693 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-09 23:30:01,818 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 98 ms. Found 4 JPA repository interfaces.
2022-11-09 23:30:03,013 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8000 (http)
2022-11-09 23:30:03,029 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8000"]
2022-11-09 23:30:03,029 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-09 23:30:03,029 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-09 23:30:03,280 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-09 23:30:03,280 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3003 ms
2022-11-09 23:30:03,845 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-09 23:30:03,955 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.11.Final
2022-11-09 23:30:04,238 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-09 23:30:04,410 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-09 23:30:04,740 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-09 23:30:04,775 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2022-11-09 23:30:05,855 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-09 23:30:05,870 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-09 23:30:06,849 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-09 23:30:08,247 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 3 endpoint(s) beneath base path '/actuator'
2022-11-09 23:30:08,294 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8000"]
2022-11-09 23:30:08,342 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8000 (http) with context path ''
2022-11-09 23:30:08,342 INFO org.springframework.boot.StartupInfoLogger [main] Started StoreApplication in 8.948 seconds (JVM running for 10.017)
2022-11-09 23:30:26,040 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8000-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-09 23:30:26,042 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8000-exec-1] Initializing Servlet 'dispatcherServlet'
2022-11-09 23:30:26,043 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8000-exec-1] Completed initialization in 1 ms
2022-11-09 23:30:30,829 INFO org.springdoc.api.AbstractOpenApiResource [http-nio-8000-exec-9] Init duration for springdoc-openapi is: 484 ms
2022-11-09 23:31:18,050 INFO br.com.claudsan.store.application.events.StoreListener [ThreadPoolTaskExecutor-6] Event order received br.com.claudsan.store.application.events.StoreEvent[source=br.com.claudsan.store.application.events.StoreEventPublisher@25e203e6]
2022-11-09 23:31:18,050 INFO br.com.claudsan.store.application.events.StoreEventPublisher [http-nio-8000-exec-2] Event fired: OrderRequestDTO
2022-11-09 23:31:35,612 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-11-09 23:31:35,612 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-11-09 23:31:35,624 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-11-09 23:31:40,204 INFO org.springframework.boot.StartupInfoLogger [main] Starting StoreApplication using Java 11.0.15 on DEV01 with PID 22268 (D:\curso-prometheus\store\target\classes started by claud in D:\curso-prometheus\store)
2022-11-09 23:31:40,204 DEBUG org.springframework.boot.StartupInfoLogger [main] Running with Spring Boot v2.7.4, Spring v5.3.23
2022-11-09 23:31:40,204 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-11-09 23:31:41,449 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-11-09 23:31:41,559 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 4 JPA repository interfaces.
2022-11-09 23:31:42,820 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8000 (http)
2022-11-09 23:31:42,836 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8000"]
2022-11-09 23:31:42,836 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-11-09 23:31:42,836 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.65]
2022-11-09 23:31:43,087 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-11-09 23:31:43,087 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2820 ms
2022-11-09 23:31:43,699 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-11-09 23:31:43,793 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.11.Final
2022-11-09 23:31:44,091 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-11-09 23:31:44,264 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-11-09 23:31:44,578 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-11-09 23:31:44,613 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2022-11-09 23:31:45,582 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-11-09 23:31:45,582 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-11-09 23:31:46,303 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-11-09 23:31:47,754 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 3 endpoint(s) beneath base path '/actuator'
2022-11-09 23:31:47,801 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8000"]
2022-11-09 23:31:47,864 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8000 (http) with context path ''
2022-11-09 23:31:47,879 INFO org.springframework.boot.StartupInfoLogger [main] Started StoreApplication in 8.389 seconds (JVM running for 9.875)
2022-11-09 23:32:09,032 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8000-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-09 23:32:09,048 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8000-exec-3] Initializing Servlet 'dispatcherServlet'
2022-11-09 23:32:09,048 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8000-exec-3] Completed initialization in 0 ms
2022-11-09 23:32:09,157 INFO br.com.claudsan.store.application.events.StoreListener [ThreadPoolTaskExecutor-1] Event order received br.com.claudsan.store.application.events.StoreEvent[source=br.com.claudsan.store.application.events.StoreEventPublisher@772bc4c9]
2022-11-09 23:32:09,157 INFO br.com.claudsan.store.application.events.StoreEventPublisher [http-nio-8000-exec-3] Event fired: OrderRequestDTO
2022-11-09 23:32:44,132 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=59s434ms678Âµs600ns).
2022-11-09 23:33:32,244 INFO br.com.claudsan.store.application.events.StoreListener [ThreadPoolTaskExecutor-7] Event order received br.com.claudsan.store.application.events.StoreEvent[source=br.com.claudsan.store.application.events.StoreEventPublisher@772bc4c9]
2022-11-09 23:33:32,244 INFO br.com.claudsan.store.application.events.StoreEventPublisher [http-nio-8000-exec-4] Event fired: OrderRequestDTO
2022-11-09 23:33:41,573 INFO br.com.claudsan.store.application.service.StockMovmentService [ThreadPoolTaskExecutor-7] StockMovement created: [itemId: 52, quantity: 1, type: OUT]
2022-11-09 23:33:41,580 INFO br.com.claudsan.store.application.service.ItemService [ThreadPoolTaskExecutor-7] item updated by stock movement Item(itemId=52, name=Mouse, quantityAvaiable=24)
2022-11-09 23:33:43,405 ERROR br.com.claudsan.store.application.service.EmailService [ThreadPoolTaskExecutor-7] Error on sending email! Order Id: 453, User ID:1
2022-11-09 23:33:43,406 INFO br.com.claudsan.store.application.service.OrderService [ThreadPoolTaskExecutor-7] Order created Id: 453 Status: FINISHED
